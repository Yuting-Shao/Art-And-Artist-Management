<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>

    <h2>Artists</h2>
    
    <% artists.forEach(function(artist){ %>
      <div>
        <div><label>artist ID: <output><%= artist.artistID %></output></label></div>
        <div><label>artist name: <output><%= artist.name %></output></label></div>
        <div><label>artist style: <output><%= artist.style %></output></label></div>
        <div><button onclick="confirmDelete(<%= artist.artistID %>)">Delete</button></div>
      </div>
      <hr>
    <% }); %>

    <footer>
      <div> Made by Yuting</div>
    </footer>
  </body>
</html>

<script>
  function confirmDelete(artistID) {
      const confirmation = confirm('Are you sure you want to delete this artist?');
      if (confirmation) {
          // Make a DELETE request
          fetch(`/artist/${artistID}`, {
              method: 'DELETE'
          }).then(() => {
              window.location.reload();
          });
      }
  }
</script>
